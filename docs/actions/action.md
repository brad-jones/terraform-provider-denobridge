---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "denobridge_action Action - terraform-provider-denobridge"
subcategory: ""
description: |-
  Bridges the terraform-plugin-framework Action to a Deno script.
---

# denobridge_action (Action)

Bridges the terraform-plugin-framework Action to a Deno script.

_Reference: <https://developer.hashicorp.com/terraform/plugin/framework/actions>_

## Example Usage

```terraform
action "denobridge_action" "launch_rocket" {
  # The path to the underlying deno script.
  # Remote HTTP URLs also supported! Any valid value that `deno run` will accept.
  path = "${path.module}/action.ts"

  # The inputs required by the underlying deno script to invoke the action.
  props = {
    destination = "mars"
  }

  # Optionally provide a path to a deno config file.
  #
  # If none is given, the denobridge provider will attempt to locate the closest
  # config file relative to the script path. This is to ensure that things like
  # import maps work as expected.
  #
  # If you wish to opt out of this automatic config discovery, supply the path "/dev/null".
  config_file = "/path/to/deno.json"

  # Optionally set any runtime permissions that the deno script may require.
  permissions = {
    all = true # Maps to --allow-all (use with caution!)

    # Otherwise provide the exact permissions your script needs.
    # see: https://docs.deno.com/runtime/fundamentals/security/#permissions
    allow = ["read", "net=example.com:443"]
    deny = ["write"]
  }
}
```

<!-- action schema generated by tfplugindocs -->

## Schema

### Required

- `path` (String) Path to the Deno script to execute.
- `props` (Dynamic) Input properties to pass to the Deno script.

### Optional

- `config_file` (String) File path to a deno config file to use with the deno script. Useful for import maps, etc...
- `permissions` (Attributes) Deno runtime permissions for the script. (see [below for nested schema](#nestedatt--permissions))

<a id="nestedatt--permissions"></a>

### Nested Schema for `permissions`

Optional:

- `all` (Boolean) Grant all permissions.
- `allow` (List of String) List of permissions to allow (e.g., 'read', 'write', 'net').
- `deny` (List of String) List of permissions to deny.

## TypeScript Implementation

Simply create a new instance of the `ActionProvider`.

```ts
import { ActionProvider } from "jsr:@brad-jones/terraform-provider-denobridge";

interface Props {
  destination: string;
}

new ActionProvider<Props>({
  async invoke({ destination }, progressCallback) {
    await progressCallback(`launching rocket to ${destination}`);
    await progressCallback(`3...`);
    await progressCallback(`2...`);
    await progressCallback(`1...`);
    await progressCallback(`blast off`);
  },
});
```

### Zod Validation

Alternatively you can use the `ZodActionProvider`, this will ensure all
input & outputs to & from your TypeScript provider are validated at runtime.

```ts
import { z } from "jsr:@zod/zod";
import { ZodActionProvider } from "jsr:@brad-jones/terraform-provider-denobridge";

const Props = z.object({
  destination: z.string(),
});

new ZodActionProvider(Props, {
  // as above but validated...
});
```
